---
layout: post
title: Google Tag Manager使用指南（二）
permalink: /google-tag-manager/user-guide-2/
category : Google Tag Manager
tags : [Google Tag Manager, 再营销, 到访定向, 对照表, 宏]
---
{% include JB/setup %}


对于有进行网络广告投放的网站来说，网站分析工具的跟踪代码加完成后，我们会想把再营销跟踪代码也整合到GTM中去。

对于大多数公司来说，这个代码的添加也非常简单，跟上篇提到的网站分析工具跟踪代码的添加方法基本是一致的。

如果是系统内置的按照模板添加相应的ID，如果是非系统内置的则添加自定义HTML代码（即嵌入第三方提供的javascript代码），然后使用“所有页面”的规则。调试OK之后，发布即可。

虽然各个搜索引擎都提供细分的代码，但是我们并不推荐生成多个不同的再营销代码，推荐做法是生成一个代码片段，然后需要的时候在后台应用规则。这样我们管理起来会比较灵活和方便，也不容易出错。

这里我再说一个比较复杂的例子。

假设，你有很多个推广账号、很多个推广网站，对应关系可能是一对一、一对多、多对一、对多对，如下表所示即是一个简单的一对一关系：


 推广账号1  | 推广账号2   | 推广账号3 
:-----------|------------:|:------------:
example.com | example.org | example.net


对于这种，我们可以使用“对照表”的宏来实现自动匹配，新建宏名称为：谷歌再营销ID。

>>{{url hostname}} = example.com 推广账号1对应的转化ID

>>{{url hostname}} = example.org 推广账号2对应的转化ID

>>{{url hostname}} = example.net 推广账号3对应的转化ID


![再营销ID宏](http://blog.xiaoq.in/cdn/hub/remarketing-id-micro.png)

然后在转化ID的地方填入下拉选择这个宏即可，如果是使用的自定义javascript（如百度推广的），则可以在第三方提供的代码内嵌入宏，如：

``window.bd_cpro_rtid="{{百度再营销ID}}";``

通过这种方式，我们可以收集到`更干净`的数据，避免其他干扰数据的产生。当然，这种方式也适用于分析工具跟踪代码的添加。可以做到一一对应。

不过，如果你想使用交叉再营销的话，则不要使用这种方式，直接在推广平台的后台设置相应的规则即可。

未完待续，更多关注更快更新，分享给你的小伙伴们吧~
