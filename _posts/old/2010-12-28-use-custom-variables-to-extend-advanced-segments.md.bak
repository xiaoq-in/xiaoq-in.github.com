---
title: 使用自定义变量来扩展高级细分
author: 肖庆
layout: post
permalink: /google-analytics/use-custom-variables-to-extend-advanced-segments/
sina_t:
  - 'true'
ratings_users:
  - 2
ratings_score:
  - 10
ratings_average:
  - 5
views:
  - 5989
yourls_shorturl:
  - http://t.xiaoq.in/15
ta-thumbnail:
  - NoMediaFound
categories:
  - Google Analytics
tags:
  - 自定义变量
  - 高级细分
---
本文转载自<span class='wp_keywordlink'><a href="https://xiaoq.in/google-analytics/" title="Google Analytics" target="_blank">Google Analytics</a></span>帮助中心：<a href="http://support.google.com/analytics/bin/answer.py?hl=zh-Hans&answer=2481996" title="使用自定义变量来扩展高级细分" target="_blank">使用自定义变量来扩展高级细分</a>。

您可以使用<span class='wp_keywordlink_affiliate'><a href="https://xiaoq.in/tag/%e8%87%aa%e5%ae%9a%e4%b9%89%e5%8f%98%e9%87%8f/" title="查看自定义变量中的全部文章" target="_blank">自定义变量</a></span>来扩展<span class='wp_keywordlink_affiliate'><a href="https://xiaoq.in/tag/%e9%ab%98%e7%ba%a7%e7%bb%86%e5%88%86/" title="查看高级细分中的全部文章" target="_blank">高级细分</a></span>的范围。

<span class='wp_keywordlink_affiliate'><a href="https://xiaoq.in/tag/%e9%ab%98%e7%ba%a7%e7%bb%86%e5%88%86/" title="查看高级细分中的全部文章" target="_blank">高级细分</a></span>依据的标准是用户的会话（访问）数据。如果某个访问者在指定日期范围内的任意一次访问中达到了您的高级细分条件，该访问者就会被加入该细分中。

例如，假设您创建了一个高级细分来找出从未转化过的访问者（与该访问者对应的收入等于 0）。在这种情况下，如果某个访问者在指定日期范围内有 4 次访问带来的收入高于 100 元，同时有 1 次访问带来的收入为 0 元，就会被错误地归类为从未转化过的访问者。

为避免这种错误归类的情况，您可以使用访问者级的<span class='wp_keywordlink_affiliate'><a href="https://xiaoq.in/tag/%e8%87%aa%e5%ae%9a%e4%b9%89%e5%8f%98%e9%87%8f/" title="查看自定义变量中的全部文章" target="_blank">自定义变量</a></span>来汇总多个会话的行为，然后再根据该自定义变量创建高级细分。

自定义变量有三种：

网页级自定义变量：跟踪用户在与单个网页进行互动时所进行的活动。

会话级自定义变量：跟踪单个会话或对您的网站进行的单次访问中所发生的活动。

访问者级自定义变量：跟踪自添加了自定义变量到访问者 Cookie 过期（24 个月）或被删除期间的所有会话活动。  
利用访问者级自定义变量，您可以通过汇总的行为（最多 24 个月），而不是用户与您网站进行的分散的互动行为来确定访问者。

假设您希望实现以下两个目标：

找出已转化和未转化的访问者

确定价值较高和价值较低的客户  
为此，您可以实施一个访问者级自定义变量以及在购物车页面用来跟踪交易次数的电子商务代码。利用这个自定义变量，您就可以找出已转化的访问者。如果您的购物车位于第三方网站上，请确保您已实施跨域跟踪。

在 \_trackPageview 方法、\_addTrans 方法、\_addItem 方法以及 \_trackTrans 电子商务方法之前添加此自定义变量：

gaq.push(['_setCustomVar',

1, // 此自定义变量设置在 1 号位置。必要参数。

'Converted', // 此名称用作用户活动的类别。必要参数。

'Yes', // 这是自定义变量的值。必要参数。

1 // 将范围设为访问者一级。在本例中是必要的参数。

]);

gaq.push(['_trackPageview' ]);

gaq.push(['_addTrans', ]);

gaq.push(['_addItem', ]);

gaq.push(['_trackTrans' ]);

通过这种方式来设置自定义变量，您就可以找出所有已转化的访问者 (Converted &#8211; Yes)，而电子商务跟踪也能跟踪所有相关收入。

现在，您可以根据此自定义变量创建高级细分。

要在某一日期范围内的任意会话中找出已转化的访问者，请创建以下高级细分：

包含 &#8211; 自定义变量（键 1） &#8211; 完全匹配 &#8211; 是

要在某一日期范围内找出在任意会话中均未转化的访问者，请创建以下高级细分：

排除 &#8211; 自定义变量（键 1） &#8211; 完全匹配 &#8211; 是

要找出价值较高的客户，请创建以下高级细分：

包含 &#8211; 自定义变量（键 1） &#8211; 完全匹配 &#8211; 是  
AND  
包含 &#8211; 收入 &#8211; 大于 &#8211; 

要找出价值较低的客户，请创建以下高级细分：

包含 &#8211; 自定义变量（键 1） &#8211; 完全匹配 &#8211; 是  
AND  
包含 &#8211; 收入 &#8211; 小于 &#8211; 

对这些不同的受众群体细分进行了定义并应用到报告中后，您就可以评估每个受众群体细分的行为，并决定应对措施。

您可以查看网站中是否有一些网页（订单确认页除外）是未实现转化的访问者会离开，而实现转化的访问者会继续访问的页面；例如，显示运费或送货时间的页面。在这里离开的访问者是不是很多，以至于如果您提供免费送货，整体利润就可能会增加？

确认实现转化的访问者查看品牌介绍或宣传页面的比例是否远远高于未实现转化的访问者。例如，在您的博客或视频页面中，实现转化的访问者带来的流量是否远远高于未实现转化的访问者？如果是这样，您能否提高所有受众群体对这些网页的认知度？

查看实现转化的访问者和价值较高的客户来自何处。您可能会发现，这些客户主要来自文化或地理位置相似的地区，您可以将营销和广告宣传重点放在这些地区，这样除了可以节省资金，还可以面向这些消费者精准显示广告内容。

或者，您可能会在以前从未考虑过的地区中发现少数价值较高的客户，从而可以进军利润丰厚、尚未开发的新市场。

不同的细分受众群体对某种技术的喜爱程度是否明显高于另一种？是否可以改善使用平板电脑的高价值客户访问网站的体验，并减少对标准网站的投入？

利用访问者级自定义变量以及您可以通过这些变量构建的高级细分，您可以查看某一日期范围内特定受众群体的行为汇总。掌握了这些信息后，您就可以重点关注贡献利润最多的细分受众群体。